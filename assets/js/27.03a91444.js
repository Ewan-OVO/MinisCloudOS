(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{341:function(a,t,s){"use strict";s.r(t);var e=s(27),n=Object(e.a)({},(function(){var a=this,t=a._self._c;return t("ContentSlotsDistributor",{attrs:{"slot-key":a.$parent.slotKey}},[t("h1",{attrs:{id:"ms-s1-max-ubuntu-server-24-04-offline-wifi-configuration-guide-mt7925-verified"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ms-s1-max-ubuntu-server-24-04-offline-wifi-configuration-guide-mt7925-verified"}},[a._v("#")]),a._v(" MS-S1 MAX Ubuntu Server 24.04 Offline WiFi Configuration Guide (MT7925 Verified)")]),a._v(" "),t("blockquote",[t("p",[a._v("A fully verified guide for enabling WiFi on "),t("strong",[a._v("Ubuntu Server 24.04")]),a._v(" (and 20.04/22.04),"),t("br"),a._v("\nespecially when installed "),t("strong",[a._v("offline")]),a._v(" and using "),t("strong",[a._v("wpa_supplicant + netplan")]),a._v(".")]),a._v(" "),t("p",[a._v("This tutorial is "),t("strong",[a._v("validated on real hardware using MediaTek MT7925 wireless chipset")]),a._v(" and supports Intel/Realtek devices as well.")])]),a._v(" "),t("hr"),a._v(" "),t("h2",{attrs:{id:"âœ¨-features"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#âœ¨-features"}},[a._v("#")]),a._v(" âœ¨ Features")]),a._v(" "),t("ul",[t("li",[a._v("âœ” Works on fully offline installations")]),a._v(" "),t("li",[a._v("âœ” Verified on MT7925 ("),t("code",[a._v("mt7925e")]),a._v(") WiFi chipset")]),a._v(" "),t("li",[a._v("âœ” No NetworkManager required")]),a._v(" "),t("li",[a._v("âœ” Only uses "),t("code",[a._v("netplan")]),a._v(" + "),t("code",[a._v("wpa_supplicant")])]),a._v(" "),t("li",[a._v("âœ” Supports auto-connect on reboot")]),a._v(" "),t("li",[a._v("âœ” Clean YAML + systemd service")]),a._v(" "),t("li",[a._v("âœ” Professional-grade steps suitable for production servers")])]),a._v(" "),t("hr"),a._v(" "),t("h2",{attrs:{id:"ðŸ“¦-tested-environment"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ðŸ“¦-tested-environment"}},[a._v("#")]),a._v(" ðŸ“¦ Tested Environment")]),a._v(" "),t("table",[t("thead",[t("tr",[t("th",[a._v("Item")]),a._v(" "),t("th",[a._v("Version / Model")])])]),a._v(" "),t("tbody",[t("tr",[t("td",[a._v("OS")]),a._v(" "),t("td",[a._v("Ubuntu Server 24.04 LTS")])]),a._v(" "),t("tr",[t("td",[a._v("Kernel")]),a._v(" "),t("td",[a._v("6.8+")])]),a._v(" "),t("tr",[t("td",[a._v("WiFi Chipset")]),a._v(" "),t("td",[a._v("MediaTek MT7925")])]),a._v(" "),t("tr",[t("td",[a._v("Driver")]),a._v(" "),t("td",[a._v("mt7925e")])]),a._v(" "),t("tr",[t("td",[a._v("Tools")]),a._v(" "),t("td",[a._v("netplan + systemd-networkd + wpa_supplicant")])]),a._v(" "),t("tr",[t("td",[a._v("Network")]),a._v(" "),t("td",[a._v("WPA2-PSK")])]),a._v(" "),t("tr",[t("td",[a._v("Installation")]),a._v(" "),t("td",[a._v("Offline installation")])])])]),a._v(" "),t("hr"),a._v(" "),t("h2",{attrs:{id:"ðŸ› -1-check-wireless-interface-driver"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ðŸ› -1-check-wireless-interface-driver"}},[a._v("#")]),a._v(" ðŸ›  1. Check Wireless Interface & Driver")]),a._v(" "),t("p",[a._v("List network interfaces:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ip")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("link")]),a._v(" show\n")])])]),t("p",[a._v("Typical result:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("2: wlp195s0: <BROADCAST,MULTICAST>\n")])])]),t("p",[a._v("Check MT7925 driver:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("lsmod "),t("span",{pre:!0,attrs:{class:"token operator"}},[a._v("|")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("grep")]),a._v(" mt7925\n")])])]),t("p",[a._v("Expected:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("mt7925e\nmt7925_common\nmt792x_lib\n")])])]),t("p",[a._v("Load driver manually (if needed):")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" modprobe mt7925e\n")])])]),t("hr"),a._v(" "),t("h2",{attrs:{id:"ðŸ› -2-create-wpa-supplicant-config-wifi-authentication"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ðŸ› -2-create-wpa-supplicant-config-wifi-authentication"}},[a._v("#")]),a._v(" ðŸ›  2. Create "),t("code",[a._v("wpa_supplicant")]),a._v(" Config (WiFi authentication)")]),a._v(" "),t("p",[a._v("Create directory:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("mkdir")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-p")]),a._v(" /etc/wpa_supplicant\n")])])]),t("p",[a._v("Create configuration file:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("nano")]),a._v(" /etc/wpa_supplicant/wpa_supplicant-wlp195s0.conf\n")])])]),t("p",[a._v("Paste:")]),a._v(" "),t("div",{staticClass:"language-ini extra-class"},[t("pre",{pre:!0,attrs:{class:"language-ini"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("ctrl_interface")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("DIR=/run/wpa_supplicant GROUP=netdev")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("update_config")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("1")]),a._v("\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("country")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("CN")]),a._v("\n\n"),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("network")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v("{")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("ssid")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"'),t("span",{pre:!0,attrs:{class:"token inner-value"}},[a._v("Your WiFi SSID")]),a._v('"')]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token key attr-name"}},[a._v("psk")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("=")]),t("span",{pre:!0,attrs:{class:"token value attr-value"}},[a._v('"'),t("span",{pre:!0,attrs:{class:"token inner-value"}},[a._v("Your WiFi password")]),a._v('"')]),a._v("\n}\n")])])]),t("p",[a._v("Save and exit.")]),a._v(" "),t("hr"),a._v(" "),t("h2",{attrs:{id:"ðŸ› -3-create-netplan-configuration"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ðŸ› -3-create-netplan-configuration"}},[a._v("#")]),a._v(" ðŸ›  3. Create Netplan Configuration")]),a._v(" "),t("p",[a._v("Create file:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("nano")]),a._v(" /etc/netplan/01-wifi.yaml\n")])])]),t("p",[a._v("Paste this "),t("strong",[a._v("correctly indented")]),a._v(" YAML:")]),a._v(" "),t("div",{staticClass:"language-yaml extra-class"},[t("pre",{pre:!0,attrs:{class:"language-yaml"}},[t("code",[t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("network")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("version")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("2")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("renderer")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" networkd\n  "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("wifis")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n    "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("wlp195s0")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("dhcp4")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("access-points")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n        "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v('"Your WiFi SSID"')]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v("\n          "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("password")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token string"}},[a._v('"Your WiFi password"')]),a._v("\n      "),t("span",{pre:!0,attrs:{class:"token key atrule"}},[a._v("optional")]),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v(":")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token boolean important"}},[a._v("true")]),a._v("\n")])])]),t("p",[a._v("Set recommended permissions:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("chmod")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("600")]),a._v(" /etc/netplan/01-wifi.yaml\n")])])]),t("p",[a._v("Apply:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" netplan generate\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" netplan apply\n")])])]),t("hr"),a._v(" "),t("h2",{attrs:{id:"ðŸ› -4-start-wifi-via-wpa-supplicant"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ðŸ› -4-start-wifi-via-wpa-supplicant"}},[a._v("#")]),a._v(" ðŸ›  4. Start WiFi via "),t("code",[a._v("wpa_supplicant")])]),a._v(" "),t("p",[a._v("Check location:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("which")]),a._v(" wpa_supplicant\n")])])]),t("p",[a._v("Run (update path if needed):")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" wpa_supplicant "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-i")]),a._v(" wlp195s0 "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" /etc/wpa_supplicant/wpa_supplicant-wlp195s0.conf "),t("span",{pre:!0,attrs:{class:"token punctuation"}},[a._v("\\")]),a._v("\n  "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-D")]),a._v(" nl80211 "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-B")]),a._v("\n")])])]),t("p",[a._v("Expected:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("Successfully initialized wpa_supplicant\n")])])]),t("hr"),a._v(" "),t("h2",{attrs:{id:"ðŸ› -5-verify-ip-assignment-dhcp"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ðŸ› -5-verify-ip-assignment-dhcp"}},[a._v("#")]),a._v(" ðŸ›  5. Verify IP Assignment (DHCP)")]),a._v(" "),t("p",[a._v("Ubuntu Server 24.04 uses systemd-networkd DHCP by default\n(no need for "),t("code",[a._v("dhclient")]),a._v(").")]),a._v(" "),t("p",[a._v("Check:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ip")]),a._v(" addr show wlp195s0\n")])])]),t("p",[a._v("Example (successful):")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("inet 10.17.38.96/23 scope global dynamic wlp195s0\n")])])]),t("p",[a._v("Test network:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ping")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8.8")]),a._v(".8.8\n")])])]),t("hr"),a._v(" "),t("h2",{attrs:{id:"ðŸ› -6-enable-auto-connect-on-boot-systemd"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ðŸ› -6-enable-auto-connect-on-boot-systemd"}},[a._v("#")]),a._v(" ðŸ›  6. Enable Auto-Connect on Boot (systemd)")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" systemctl "),t("span",{pre:!0,attrs:{class:"token builtin class-name"}},[a._v("enable")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("--now")]),a._v(" wpa_supplicant@wlp195s0.service\n")])])]),t("p",[a._v("Verify:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[a._v("systemctl status wpa_supplicant@wlp195s0\n")])])]),t("p",[a._v("Should show:")]),a._v(" "),t("div",{staticClass:"language- extra-class"},[t("pre",{pre:!0,attrs:{class:"language-text"}},[t("code",[a._v("active (running)\n")])])]),t("p",[a._v("Reboot and test:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("sudo")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("reboot")]),a._v("\n")])])]),t("p",[a._v("After reboot:")]),a._v(" "),t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ip")]),a._v(" addr show wlp195s0\n"),t("span",{pre:!0,attrs:{class:"token function"}},[a._v("ping")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token parameter variable"}},[a._v("-c")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("3")]),a._v(" "),t("span",{pre:!0,attrs:{class:"token number"}},[a._v("8.8")]),a._v(".8.8\n")])])]),t("p",[a._v("Done")])])}),[],!1,null,null,null);t.default=n.exports}}]);